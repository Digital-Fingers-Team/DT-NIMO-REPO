<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DT Edu - Modern Educational Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --primary: #4a6cf7;
            --primary-dark: #3a56d4;
            --secondary: #6c5ce7;
            --accent: #00b894;
            --light: #f8f9fa;
            --dark: #2d3436;
            --text: #333;
            --text-light: #666;
            --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 15px 30px rgba(0, 0, 0, 0.15);
            --shadow-strong: 0 20px 40px rgba(0, 0, 0, 0.2);
            --transition-fast: all 0.2s ease;
            --transition-normal: all 0.3s ease;
            --transition-slow: all 0.5s ease;
            --sidebar-width: 280px;
        }

        .dark-mode {
            --light: #1a1a2e;
            --dark: #f8f9fa;
            --text: #e6e6e6;
            --text-light: #b0b0b0;
            --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.3);
            --shadow-medium: 0 15px 30px rgba(0, 0, 0, 0.4);
            --shadow-strong: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f0f8ff 0%, #e1f0fa 100%);
            min-height: 100vh;
            overflow-x: hidden;
            transition: var(--transition-normal);
        }

        body.dark-mode {
            background: linear-gradient(135deg, #16213e 0%, #0f3460 100%);
            color: var(--light);
        }

        #app {
            min-height: 100vh;
            position: relative;
        }

        /* Three.js Canvas */
        .three-scene {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Dashboard Layout */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px 0;
            z-index: 100;
            transition: var(--transition-normal);
        }

        .dark-mode .sidebar {
            background: rgba(26, 26, 46, 0.6);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-header {
            text-align: center;
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 20px;
        }

        .logo {
            width: 70px;
            height: 70px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            animation: float 3s ease-in-out infinite;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .user-info {
            text-align: center;
        }

        .user-name {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .user-type {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            display: inline-block;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0 15px;
            margin-bottom: 20px;
        }

        .menu-item {
            margin-bottom: 8px;
            border-radius: 10px;
            overflow: hidden;
        }

        .menu-item a {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            color: var(--text);
            text-decoration: none;
            transition: var(--transition-normal);
        }

        .dark-mode .menu-item a {
            color: var(--light);
        }

        .menu-item a:hover, .menu-item.active a {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
        }

        .menu-item i {
            margin-left: 10px;
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .menu-item span {
            flex: 1;
        }

        .sidebar-footer {
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            margin-top: auto;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 20px;
            overflow-y: auto;
            max-height: 100vh;
            transition: var(--transition-normal);
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition-normal);
        }

        .dark-mode .header {
            background: rgba(26, 26, 46, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-title {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2rem;
            font-weight: 700;
        }

        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        /* Buttons */
        .btn-3d {
            position: relative;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-normal);
            transform: translateY(0);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-3d:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(74, 108, 247, 0.3);
        }

        .btn-3d:active {
            transform: translateY(1px);
        }

        /* Summary Cards */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .animated-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            transition: var(--transition-normal);
            cursor: pointer;
            animation: slideInFromTop 0.6s ease-out both;
        }

        .dark-mode .animated-card {
            background: rgba(26, 26, 46, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .animated-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow-strong);
        }

        .animated-card:hover .card-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .card-content {
            display: flex;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 20px;
            color: white;
            font-size: 24px;
            transition: var(--transition-normal);
        }

        .card-info {
            flex: 1;
        }

        .card-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-title {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .dark-mode .card-title {
            color: rgba(255, 255, 255, 0.7);
        }

        /* Schedule Section */
        .schedule-section {
            margin-bottom: 40px;
        }

        .schedule-controls {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition-normal);
        }

        .dark-mode .schedule-controls {
            background: rgba(26, 26, 46, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .current-week {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
        }

        .filter-options {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .schedule-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            overflow-x: auto;
            transition: var(--transition-normal);
        }

        .dark-mode .schedule-container {
            background: rgba(26, 26, 46, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .table-wrapper {
            min-width: 800px;
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            border-radius: 15px;
            overflow: hidden;
        }

        .schedule-table th, .schedule-table td {
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .schedule-table th {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .time-header {
            background: linear-gradient(135deg, var(--accent), #00a085) !important;
        }

        .current-day {
            position: relative;
        }

        .current-day::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent);
        }

        .schedule-table tr:nth-child(even) {
            background: rgba(74, 108, 247, 0.03);
        }

        .dark-mode .schedule-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.05);
        }

        .time-slot {
            background: rgba(0, 184, 148, 0.1);
            font-weight: 600;
            color: var(--accent);
        }

        .class-slot {
            border-radius: 8px;
            padding: 12px 8px;
            margin: 2px;
            transition: var(--transition-normal);
            cursor: pointer;
        }

        .class-slot:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .math { background: linear-gradient(135deg, #4a6cf7, #6c5ce7); color: white; }
        .science { background: linear-gradient(135deg, #00b894, #00a085); color: white; }
        .arabic { background: linear-gradient(135deg, #fd79a8, #e84393); color: white; }
        .english { background: linear-gradient(135deg, #fdcb6e, #e17055); color: white; }
        .history { background: linear-gradient(135deg, #a29bfe, #6c5ce7); color: white; }
        .geography { background: linear-gradient(135deg, #81ecec, #00cec9); color: white; }
        .break { background: linear-gradient(135deg, #dfe6e9, #b2bec3); color: var(--text); }

        .class-info {
            font-size: 14px;
            line-height: 1.4;
        }

        .subject-name {
            font-weight: 700;
            margin-bottom: 5px;
        }

        .teacher-name {
            font-size: 12px;
            opacity: 0.9;
        }

        .class-room {
            font-size: 12px;
            margin-top: 5px;
            background: rgba(255, 255, 255, 0.2);
            padding: 2px 6px;
            border-radius: 10px;
            display: inline-block;
        }

        .current-class {
            position: relative;
            animation: pulse 2s infinite;
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 184, 148, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 184, 148, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 184, 148, 0); }
        }

        @keyframes slideInFromTop {
            0% {
                opacity: 0;
                transform: translateY(-30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .sidebar {
                width: 80px;
            }

            .sidebar-header .logo-text,
            .user-info,
            .menu-item span {
                display: none;
            }

            .main-content {
                margin-left: 80px;
            }

            .menu-item a {
                justify-content: center;
                padding: 15px;
            }

            .menu-item i {
                margin-left: 0;
                font-size: 20px;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .header-actions {
                justify-content: center;
            }

            .summary-grid {
                grid-template-columns: 1fr;
            }

            .schedule-controls {
                flex-direction: column;
                gap: 15px;
            }

            .filter-options {
                width: 100%;
                justify-content: space-between;
            }
        }

        @media (max-width: 576px) {
            .main-content {
                padding: 15px;
            }

            .sidebar {
                width: 70px;
            }

            .main-content {
                margin-left: 70px;
            }

            .schedule-table th, .schedule-table td {
                padding: 8px 5px;
            }

            .class-info {
                font-size: 12px;
            }

            .subject-name {
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Three.js Canvas Container -->
        <div class="three-scene" ref="threeContainer"></div>
        
        <!-- Dashboard Layout -->
        <div class="dashboard-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="logo">
                        <svg width="50" height="50" viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#4a6cf7"/>
                                    <stop offset="100%" stop-color="#00b894"/>
                                </linearGradient>
                            </defs>
                            <circle cx="48" cy="48" r="46" fill="url(#grad)" opacity="0.15" stroke="#4a6cf7" stroke-width="2"/>
                            <path d="M28 62C28 48.745 38.745 38 52 38H60V46H52C43.163 46 36 53.163 36 62H28Z" fill="#4a6cf7"/>
                            <path d="M40 58C40 44.745 50.745 34 64 34H72V42H64C55.163 42 48 49.163 48 58H40Z" fill="#00b894" opacity="0.85"/>
                            <circle cx="60" cy="32" r="8" fill="#4a6cf7" opacity="0.75"/>
                            <circle cx="36" cy="60" r="6" fill="#00b894" opacity="0.8"/>
                        </svg>
                    </div>
                    <div class="logo-text">DT Edu</div>
                    <div class="user-info">
                        <div class="user-name">{{ user.name }}</div>
                        <div class="user-type">{{ userTypeText }}</div>
                    </div>
                </div>
                
                <ul class="sidebar-menu">
                    <li class="menu-item" :class="{ active: activeMenu === 'dashboard' }">
                        <a href="#" @click="setActiveMenu('dashboard')">
                            <i class="fas fa-home"></i>
                            <span>لوحة التحكم</span>
                        </a>
                    </li>
                    <li class="menu-item active">
                        <a href="#" @click="setActiveMenu('schedule')">
                            <i class="fas fa-calendar-alt"></i>
                            <span>الجدول الدراسي</span>
                        </a>
                    </li>
                    <li class="menu-item" :class="{ active: activeMenu === 'courses' }">
                        <a href="#" @click="setActiveMenu('courses')">
                            <i class="fas fa-book"></i>
                            <span>المقررات الدراسية</span>
                        </a>
                    </li>
                    <li class="menu-item" :class="{ active: activeMenu === 'progress' }">
                        <a href="#" @click="setActiveMenu('progress')">
                            <i class="fas fa-chart-bar"></i>
                            <span>التقدم الدراسي</span>
                        </a>
                    </li>
                </ul>
                
                <div class="sidebar-footer">
                    <ul class="sidebar-menu">
                        <li class="menu-item">
                            <a href="#" @click="toggleDarkMode">
                                <i :class="darkMode ? 'fas fa-sun' : 'fas fa-moon'"></i>
                                <span>{{ darkModeText }}</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </aside>
            
            <!-- Main Content -->
            <main class="main-content" @mousemove="handleMouseMove" @scroll="handleScroll">
                <header class="header">
                    <h1 class="header-title">الجدول الدراسي - نظام DT Edu</h1>
                    <div class="header-actions">
                        <button @click="toggleDarkMode" class="btn-3d">
                            <i :class="darkMode ? 'fas fa-sun' : 'fas fa-moon'"></i>
                            {{ darkModeText }}
                        </button>
                    </div>
                </header>
                
                <!-- Summary Cards -->
                <div class="summary-grid fade-in">
                    <div class="animated-card" v-for="card in summaryCards" :key="card.id" 
                         :style="{ 'animation-delay': card.delay + 'ms' }"
                         @mouseenter="handleCardHover(card)"
                         @click="handleCardClick(card)">
                        <div class="card-content">
                            <div class="card-icon" :style="{ background: card.gradient }">
                                <i :class="card.icon"></i>
                            </div>
                            <div class="card-info">
                                <div class="card-value">{{ card.value }}</div>
                                <div class="card-title">{{ card.title }}</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Schedule Section -->
                <section class="schedule-section">
                    <div class="schedule-controls">
                        <div class="current-week">{{ currentWeekText }}</div>
                        <div class="filter-options">
                            <button @click="previousWeek" class="btn-3d">
                                <i class="fas fa-chevron-right"></i>
                                الأسبوع السابق
                            </button>
                            <button @click="nextWeek" class="btn-3d">
                                <i class="fas fa-chevron-left"></i>
                                الأسبوع القادم
                            </button>
                        </div>
                    </div>
                    
                    <div class="schedule-container">
                        <div class="table-wrapper">
                            <table class="schedule-table">
                                <thead>
                                    <tr>
                                        <th class="time-header">الوقت</th>
                                        <th v-for="day in days" :key="day.key" 
                                            :class="{ 'current-day': isCurrentDay(day.key) }">
                                            {{ day.name }}
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="timeSlot in timeSlots" :key="timeSlot.time">
                                        <td class="time-slot">
                                            <strong>{{ timeSlot.time }}</strong>
                                        </td>
                                        <td v-for="day in days" :key="day.key"
                                            :class="{ 'current-class': isCurrentClass(day.key, timeSlot.time) }">
                                            <div v-if="getClassData(day.key, timeSlot.time)" 
                                                 class="class-slot" 
                                                 :class="getClassData(day.key, timeSlot.time).type"
                                                 @click="handleClassClick(getClassData(day.key, timeSlot.time))">
                                                <div class="class-info">
                                                    <div class="subject-name">{{ getClassData(day.key, timeSlot.time).subject }}</div>
                                                    <div v-if="getClassData(day.key, timeSlot.time).teacher" 
                                                         class="teacher-name">{{ getClassData(day.key, timeSlot.time).teacher }}</div>
                                                    <div v-if="getClassData(day.key, timeSlot.time).room" 
                                                         class="class-room">{{ getClassData(day.key, timeSlot.time).room }}</div>
                                                </div>
                                            </div>
                                            <div v-else class="class-slot empty">
                                                <div class="class-info">
                                                    <div class="subject-name">-</div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        const { createApp, ref, computed, onMounted, onUnmounted } = Vue;

        createApp({
            setup() {
                // Reactive state
                const darkMode = ref(false);
                const activeMenu = ref('schedule');
                const mousePosition = ref({ x: 0, y: 0 });
                const scrollProgress = ref(0);
                const currentWeek = ref(0);
                const threeContainer = ref(null);

                // User data
                const user = ref({
                    name: 'أحمد محمد',
                    type: 'student'
                });

                // Summary cards data
                const summaryCards = ref([
                    {
                        id: 1,
                        title: 'إجمالي الحصص أسبوعياً',
                        value: '28',
                        icon: 'fas fa-book',
                        gradient: 'linear-gradient(135deg, #4a6cf7, #6c5ce7)',
                        delay: 0
                    },
                    {
                        id: 2,
                        title: 'عدد المواد الدراسية',
                        value: '8',
                        icon: 'fas fa-chalkboard-teacher',
                        gradient: 'linear-gradient(135deg, #00b894, #00a085)',
                        delay: 100
                    },
                    {
                        id: 3,
                        title: 'ساعة دراسة أسبوعياً',
                        value: '32',
                        icon: 'fas fa-clock',
                        gradient: 'linear-gradient(135deg, #fd79a8, #e84393)',
                        delay: 200
                    },
                    {
                        id: 4,
                        title: 'الحصة التالية',
                        value: 'رياضيات',
                        icon: 'fas fa-user-check',
                        gradient: 'linear-gradient(135deg, #fdcb6e, #e17055)',
                        delay: 300
                    }
                ]);

                // Schedule data
                const days = ref([
                    { key: 'sunday', name: 'الأحد' },
                    { key: 'monday', name: 'الإثنين' },
                    { key: 'tuesday', name: 'الثلاثاء' },
                    { key: 'wednesday', name: 'الأربعاء' },
                    { key: 'thursday', name: 'الخميس' }
                ]);

                const timeSlots = ref([
                    { time: '8:00 - 8:45' },
                    { time: '8:45 - 9:30' },
                    { time: '9:30 - 10:15' },
                    { time: '10:15 - 11:00' },
                    { time: '11:00 - 11:45' },
                    { time: '11:45 - 12:30' }
                ]);

                const scheduleData = computed(() => ({
                    sunday: {
                        '8:00 - 8:45': { subject: 'رياضيات', teacher: 'أ. أحمد محمد', room: 'قاعة ٢٠١', type: 'math' },
                        '8:45 - 9:30': { subject: 'علوم', teacher: 'أ. فاطمة علي', room: 'مختبر ١٠١', type: 'science' },
                        '9:30 - 10:15': { subject: 'فسحة', type: 'break' },
                        '10:15 - 11:00': { subject: 'لغة إنجليزية', teacher: 'أ. سارة عبدالله', room: 'قاعة ٤٠٣', type: 'english' },
                        '11:00 - 11:45': { subject: 'جغرافيا', teacher: 'أ. نورة الكواري', room: 'قاعة ٢٠٤', type: 'geography' },
                        '11:45 - 12:30': { subject: 'لغة عربية', teacher: 'أ. خالد إبراهيم', room: 'قاعة ٣٠٢', type: 'arabic' }
                    },
                    monday: {
                        '8:00 - 8:45': { subject: 'علوم', teacher: 'أ. فاطمة علي', room: 'مختبر ١٠١', type: 'science' },
                        '8:45 - 9:30': { subject: 'لغة عربية', teacher: 'أ. خالد إبراهيم', room: 'قاعة ٣٠٢', type: 'arabic' },
                        '9:30 - 10:15': { subject: 'فسحة', type: 'break' },
                        '10:15 - 11:00': { subject: 'رياضيات', teacher: 'أ. أحمد محمد', room: 'قاعة ٢٠١', type: 'math' },
                        '11:00 - 11:45': { subject: 'لغة إنجليزية', teacher: 'أ. سارة عبدالله', room: 'قاعة ٤٠٣', type: 'english' },
                        '11:45 - 12:30': { subject: 'جغرافيا', teacher: 'أ. نورة الكواري', room: 'قاعة ٢٠٤', type: 'geography' }
                    },
                    tuesday: {
                        '8:00 - 8:45': { subject: 'لغة عربية', teacher: 'أ. خالد إبراهيم', room: 'قاعة ٣٠٢', type: 'arabic' },
                        '8:45 - 9:30': { subject: 'رياضيات', teacher: 'أ. أحمد محمد', room: 'قاعة ٢٠١', type: 'math' },
                        '9:30 - 10:15': { subject: 'فسحة', type: 'break' },
                        '10:15 - 11:00': { subject: 'علوم', teacher: 'أ. فاطمة علي', room: 'مختبر ١٠١', type: 'science' },
                        '11:00 - 11:45': { subject: 'تاريخ', teacher: 'أ. محمد حسن', room: 'قاعة ١٠٥', type: 'history' },
                        '11:45 - 12:30': { subject: 'لغة إنجليزية', teacher: 'أ. سارة عبدالله', room: 'قاعة ٤٠٣', type: 'english' }
                    },
                    wednesday: {
                        '8:00 - 8:45': { subject: 'رياضيات', teacher: 'أ. أحمد محمد', room: 'قاعة ٢٠١', type: 'math' },
                        '8:45 - 9:30': { subject: 'تاريخ', teacher: 'أ. محمد حسن', room: 'قاعة ١٠٥', type: 'history' },
                        '9:30 - 10:15': { subject: 'فسحة', type: 'break' },
                        '10:15 - 11:00': { subject: 'لغة عربية', teacher: 'أ. خالد إبراهيم', room: 'قاعة ٣٠٢', type: 'arabic' },
                        '11:00 - 11:45': { subject: 'علوم', teacher: 'أ. فاطمة علي', room: 'مختبر ١٠١', type: 'science' }
                    },
                    thursday: {
                        '8:00 - 8:45': { subject: 'لغة إنجليزية', teacher: 'أ. سارة عبدالله', room: 'قاعة ٤٠٣', type: 'english' },
                        '8:45 - 9:30': { subject: 'جغرافيا', teacher: 'أ. نورة الكواري', room: 'قاعة ٢٠٤', type: 'geography' },
                        '9:30 - 10:15': { subject: 'فسحة', type: 'break' },
                        '10:15 - 11:00': { subject: 'تاريخ', teacher: 'أ. محمد حسن', room: 'قاعة ١٠٥', type: 'history' },
                        '11:00 - 11:45': { subject: 'رياضيات', teacher: 'أ. أحمد محمد', room: 'قاعة ٢٠١', type: 'math' }
                    }
                }));

                // Three.js variables
                let scene, camera, renderer, particles, floatingShapes;

                // Computed properties
                const userTypeText = computed(() => {
                    const types = {
                        principal: { ar: 'مدير', en: 'Principal' },
                        teacher: { ar: 'مدرس', en: 'Teacher' },
                        student: { ar: 'طالب', en: 'Student' }
                    };
                    return types[user.value.type].ar;
                });

                const darkModeText = computed(() => {
                    return darkMode.value ? 'الوضع الفاتح' : 'الوضع الداكن';
                });

                const currentWeekText = computed(() => {
                    return `الأسبوع الدراسي: ${currentWeek.value + 1}`;
                });

                // Methods
                const toggleDarkMode = () => {
                    darkMode.value = !darkMode.value;
                    document.body.classList.toggle('dark-mode', darkMode.value);
                };

                const setActiveMenu = (menuId) => {
                    activeMenu.value = menuId;
                };

                const handleMouseMove = (event) => {
                    mousePosition.value = {
                        x: (event.clientX / window.innerWidth) * 2 - 1,
                        y: -(event.clientY / window.innerHeight) * 2 + 1
                    };
                };

                const handleScroll = (event) => {
                    const scrollTop = event.target.scrollTop;
                    const maxScroll = event.target.scrollHeight - event.target.clientHeight;
                    scrollProgress.value = maxScroll > 0 ? scrollTop / maxScroll : 0;
                };

                const previousWeek = () => {
                    currentWeek.value = Math.max(0, currentWeek.value - 1);
                };

                const nextWeek = () => {
                    currentWeek.value += 1;
                };

                const isCurrentDay = (dayKey) => {
                    const currentDay = new Date().getDay();
                    const dayMap = { sunday: 0, monday: 1, tuesday: 2, wednesday: 3, thursday: 4 };
                    return dayMap[dayKey] === currentDay;
                };

                const isCurrentClass = (dayKey, time) => {
                    // Simplified logic - in real app, compare with current time
                    return dayKey === 'sunday' && time === '8:00 - 8:45';
                };

                const getClassData = (dayKey, time) => {
                    return scheduleData.value[dayKey]?.[time] || null;
                };

                const handleClassClick = (classData) => {
                    if (classData && classData.type !== 'break') {
                        alert(`${classData.subject}\nالمعلم: ${classData.teacher}\nالقاعة: ${classData.room}`);
                    }
                };

                const handleCardHover = (card) => {
                    console.log('Card hovered:', card.title);
                };

                const handleCardClick = (card) => {
                    console.log('Card clicked:', card.title);
                };

                // Three.js initialization
                const initThreeScene = () => {
                    // Scene setup
                    scene = new THREE.Scene();
                    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                    renderer = new THREE.WebGLRenderer({ 
                        alpha: true, 
                        antialias: true 
                    });
                    
                    // Configure renderer
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                    
                    // Add to DOM
                    if (threeContainer.value) {
                        threeContainer.value.appendChild(renderer.domElement);
                    }
                    
                    // Camera position
                    camera.position.z = 20;
                    
                    // Add lights
                    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
                    scene.add(ambientLight);
                    
                    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
                    directionalLight.position.set(5, 5, 5);
                    scene.add(directionalLight);
                    
                    // Create particle system
                    particles = createParticleSystem();
                    scene.add(particles);
                    
                    // Create floating geometric shapes
                    floatingShapes = createFloatingShapes();
                    floatingShapes.forEach(shape => scene.add(shape));
                    
                    // Handle window resize
                    window.addEventListener('resize', handleResize);
                    
                    // Start animation
                    animate();
                };

                const createParticleSystem = () => {
                    const particleCount = 1000;
                    const positions = new Float32Array(particleCount * 3);
                    const colors = new Float32Array(particleCount * 3);
                    
                    for (let i = 0; i < particleCount * 3; i += 3) {
                        positions[i] = (Math.random() - 0.5) * 100;
                        positions[i + 1] = (Math.random() - 0.5) * 100;
                        positions[i + 2] = (Math.random() - 0.5) * 100;
                        
                        colors[i] = Math.random() * 0.5 + 0.5; // Soft colors
                        colors[i + 1] = Math.random() * 0.3 + 0.7;
                        colors[i + 2] = Math.random() * 0.5 + 0.5;
                    }
                    
                    const geometry = new THREE.BufferGeometry();
                    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                    geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
                    
                    const material = new THREE.PointsMaterial({
                        size: 0.5,
                        vertexColors: true,
                        transparent: true,
                        opacity: 0.6
                    });
                    
                    return new THREE.Points(geometry, material);
                };

                const createFloatingShapes = () => {
                    const shapes = [];
                    const geometries = [
                        new THREE.IcosahedronGeometry(2, 0),
                        new THREE.OctahedronGeometry(1.5, 0),
                        new THREE.TorusGeometry(1.5, 0.4, 12, 24),
                        new THREE.ConeGeometry(1.2, 3, 8)
                    ];
                    
                    const colors = [0x4a6cf7, 0x6c5ce7, 0x00b894, 0xfd79a8];
                    
                    geometries.forEach((geometry, index) => {
                        const material = new THREE.MeshPhongMaterial({
                            color: colors[index],
                            transparent: true,
                            opacity: 0.3,
                            wireframe: true
                        });
                        
                        const shape = new THREE.Mesh(geometry, material);
                        
                        // Position shapes in a circle
                        const angle = (index / geometries.length) * Math.PI * 2;
                        shape.position.x = Math.cos(angle) * 8;
                        shape.position.y = Math.sin(angle) * 8;
                        shape.position.z = (Math.random() - 0.5) * 10;
                        
                        shapes.push(shape);
                    });
                    
                    return shapes;
                };

                const handleResize = () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                };

                const animate = () => {
                    requestAnimationFrame(animate);
                    
                    // Animate particles
                    if (particles) {
                        particles.rotation.y += 0.001;
                        particles.rotation.x += 0.0005;
                    }
                    
                    // Animate floating shapes based on mouse position
                    if (floatingShapes) {
                        floatingShapes.forEach((shape, index) => {
                            shape.rotation.x += 0.01;
                            shape.rotation.y += 0.008;
                            
                            // Subtle floating animation
                            shape.position.y = Math.sin(Date.now() * 0.001 + index) * 2;
                            
                            // React to mouse movement
                            shape.rotation.z += mousePosition.value.x * 0.02;
                            shape.rotation.x += mousePosition.value.y * 0.02;
                        });
                    }
                    
                    // Camera movement based on scroll
                    camera.position.z = 20 + scrollProgress.value * 10;
                    camera.position.y = scrollProgress.value * 5;
                    
                    // Update camera rotation based on mouse
                    camera.rotation.x = mousePosition.value.y * 0.1;
                    camera.rotation.y = mousePosition.value.x * 0.1;
                    
                    renderer.render(scene, camera);
                };

                // Lifecycle
                onMounted(() => {
                    // Initialize Three.js scene
                    initThreeScene();
                    
                    // Load user preferences
                    const savedDarkMode = localStorage.getItem('darkMode');
                    if (savedDarkMode) {
                        darkMode.value = JSON.parse(savedDarkMode);
                        document.body.classList.toggle('dark-mode', darkMode.value);
                    }
                });

                onUnmounted(() => {
                    // Cleanup
                    if (renderer) {
                        renderer.dispose();
                    }
                    window.removeEventListener('resize', handleResize);
                });

                return {
                    darkMode,
                    activeMenu,
                    user,
                    summaryCards,
                    days,
                    timeSlots,
                    scheduleData,
                    currentWeek,
                    threeContainer,
                    userTypeText,
                    darkModeText,
                    currentWeekText,
                    toggleDarkMode,
                    setActiveMenu,
                    handleMouseMove,
                    handleScroll,
                    previousWeek,
                    nextWeek,
                    isCurrentDay,
                    isCurrentClass,
                    getClassData,
                    handleClassClick,
                    handleCardHover,
                    handleCardClick
                };
            }
        }).mount('#app');
    </script>
</body>
</html>